# Ripple Environment Variables
# Copy this file to .env.local and fill in your values. See README for setup instructions.

# ===========================
# Convex Backend Configuration
# ===========================

# Auto-set by `npx convex dev` (development only)
# CONVEX_DEPLOYMENT=dev:your-deployment-name

# ===========================
# Frontend Build-Time Variables (Vite)
# ===========================
# These are statically replaced during build (`npm run build`)

# REQUIRED - Build-time only
VITE_CONVEX_URL=https://your-deployment.convex.cloud

# OPTIONAL - Build-time only (currently unused in frontend but kept for consistency)
VITE_CONVEX_SITE_URL=https://your-deployment.convex.site

# REQUIRED - Build-time only
# Dev: localhost:1999
# Prod: ripple-collaboration.USERNAME.partykit.dev (output from first 'npx partykit deploy')
VITE_PARTYKIT_HOST=localhost:1999

# ===========================
# PartyKit Runtime Variables
# ===========================
# Set via `npx partykit env add` or `--var` flag during deployment

# REQUIRED
# Used by PartyKit server to verify auth tokens (accessed via this.room.env.CONVEX_SITE_URL)
# Production: set via 'npx partykit env add CONVEX_SITE_URL <value>'
CONVEX_SITE_URL=https://your-deployment.convex.site

# ===========================
# Convex Backend Runtime Variables
# ===========================
# Set via Convex Dashboard -> Settings -> Environment Variables or `npx convex env set`

# REQUIRED - Resend API key for auth emails (used in convex/auth.ts, convex/emails.ts)
AUTH_RESEND_KEY=

# REQUIRED - Production frontend URL for invite links (used in convex/emails.ts)
SITE_URL=https://ripple.conduits.space

# REQUIRED - Web push notification subject (mailto:email, used in convex/taskNotifications.ts, convex/pushNotifications.ts, convex/chatNotifications.ts)
VAPID_SUBJECT=mailto:your@email.com

# REQUIRED - VAPID public key for web push (used in convex/taskNotifications.ts, convex/pushNotifications.ts, convex/chatNotifications.ts)
VAPID_PUBLIC_KEY=

# REQUIRED - VAPID private key for web push (used in convex/taskNotifications.ts, convex/pushNotifications.ts, convex/chatNotifications.ts)
VAPID_PRIVATE_KEY=

# REQUIRED - Cloudflare account for video calls RTK (used in convex/callSessions.ts)
CLOUDFLARE_ACCOUNT_ID=

# REQUIRED - Cloudflare Calls app ID (used in convex/callSessions.ts)
CLOUDFLARE_RTK_APP_ID=

# OPTIONAL - Cloudflare API token for RTK (used in convex/callSessions.ts)
# Note: This is the RTK-specific token, different from the Workers deploy token
# Not currently needed â€” set directly via Convex Dashboard if video calls require it
CLOUDFLARE_API_TOKEN=

# ===========================
# Development Setup Flag
# ===========================

# OPTIONAL - Internal flag set by setup.mjs
SETUP_SCRIPT_RAN=1

# ===========================
# CI/CD Secrets (GitHub Actions only - DO NOT SET LOCALLY)
# ===========================
# These should be set in GitHub repo settings -> Environments -> production -> Environment secrets

# CONVEX_DEPLOY_KEY - Production deploy key from Convex Dashboard -> Settings -> Deploy Key
# VITE_CONVEX_URL - Production Convex API URL (https://*.convex.cloud)
# VITE_CONVEX_SITE_URL - Production Convex HTTP actions URL (https://*.convex.site)
# CONVEX_SITE_URL - Same as VITE_CONVEX_SITE_URL (used by PartyKit)
# VITE_PARTYKIT_HOST - PartyKit production host (ripple-collaboration.USERNAME.partykit.dev)
# PARTYKIT_LOGIN - your PartyKit username (login field from ~/.partykit/config.json)
# PARTYKIT_TOKEN - access_token from ~/.partykit/config.json (run 'npx partykit login' first)
# CLOUDFLARE_API_TOKEN - Cloudflare API token for Workers deployment (Workers edit permission)
# AUTH_RESEND_KEY - Resend API key (set in Convex and in GitHub for deployment)
# SITE_URL - Production frontend URL (https://ripple.conduits.space)
# VAPID_SUBJECT - mailto:email for web push
# VAPID_PUBLIC_KEY - VAPID public key
# VAPID_PRIVATE_KEY - VAPID private key
# CLOUDFLARE_ACCOUNT_ID - Cloudflare account ID for video calls RTK
# CLOUDFLARE_RTK_APP_ID - Cloudflare Calls app ID
